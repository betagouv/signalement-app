<div class="banner text-center section section-primary" role="region">
  <div class="container">
    <h1 class="text-center">
      Mot de passe oublié
    </h1>
  </div>
</div>

<main role="main">
  <section class="section section-lightest-grey">
    <div class="container max-width">
      <div class="notification success mt-3 mb-5" *ngIf="showSuccess; else login">
        Un email vous a été envoyé pour créer votre nouveau mot de passe.
      </div>
      <ng-template #login>
        <form [formGroup]="loginForm" (ngSubmit)="submitLoginForm()" class="form-horizontal">
          <div class="form-group row">
            <div class="col-sm-3 control-label">
              <label for="login" [class]="hasError(loginCtrl) ? 'error' : ''">
                Email <span class="error">*</span>
              </label>
            </div>
            <div class="col-sm-9">
              <input [formControl]="loginCtrl" type="text" class="form-control" id="login" placeholder="Email">
            </div>
          </div>

          <div class="notification error mt-3" *ngIf="showErrors && loginForm.invalid">
            <span *ngIf="loginCtrl.hasError('required')">
              Veuillez renseigner votre email.<br />
            </span>
          </div>
          <div class="notification error mt-3" *ngIf="loadingError">
            Une erreur technique s'est produite.
          </div>
          <hr />
          <div class="form-group row">
            <div class="col-sm-12 text-center">
              <button type="submit" class="btn btn-lg btn-primary">
                Créer un nouveau mot de passe
              </button>
            </div>
          </div>
          <p class="form-text text-muted text-center pt-5">
            Vous recevrez un email vous permettant de créer un nouveau mot de passe.
          </p>
        </form>
      </ng-template>
      <p class="form-text text-muted text-center">
        En cas de difficultés, vous pouvez contacter par email le service <a href="mailto:contact@signalconso.beta.gouv.fr" title="SignalConso (ouverture de la messagerie par défaut)">contact@signalconso.beta.gouv.fr</a>.
      </p>
    </div>
    <ngx-loading [show]="loading"></ngx-loading>
  </section>
</main>
