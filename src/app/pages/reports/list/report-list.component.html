<app-banner title="Suivi des signalements"
            [subTitle]="searchFormValue.siret ? 'SIRET ' + searchFormValue.siret : ''"></app-banner>

<app-page>
    <app-panel [loading]="loading" *appRole="[roles.Admin, roles.DGCCRF]">
    <app-report-list-search
      [searchForm]="searchForm"
      (extracted)="launchExtraction()"
      (searched)="onFiltersUpdate()"
      (cleared)="onClearFilters()">
    </app-report-list-search>

    <app-report-list-datatable
      [reports]="reports"
      [pageSize]="searchFormValue.limit"
      [userRole]="(authenticationService.user | async).role"
      (paginationChanged)="onPaginationChange($event)">
    </app-report-list-datatable>
  </app-panel>
</app-page>
