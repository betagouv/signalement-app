<section class="section-small section-lighter-grey pb-sm-3" role="navigation">
  <div class="container">
    <div class="row">
      <div class="d-none d-lg-block col-sm-1 text-right">
        <img id="back-button" src="/assets/images/icon_back.png" class="back pointer" (click)="back()" (keydown.enter)="back()" alt="Retour à l'étape précédente" tabindex="0"/>
      </div>
      <div class="col-12 col-sm-11">
        <div *ngIf="draftReport">
          <h1 *ngIf="getAnomaly()?.breadcrumbTitle; else defautBreadcrumbTitle">{{getAnomaly()?.breadcrumbTitle}}</h1>
          <ng-template #defautBreadcrumbTitle>
            <h1>Vous signalez un problème {{precedeCategory()}}<strong>{{draftReport.category}}</strong></h1>
          </ng-template>
          <div class="steps" *ngIf="step !== 'Information'">
            <ng-container  *ngIf="getStepNumber(steps.Problem) > 0">
              <div class="{{getStepClass(steps.Problem)}}" (click)="goToStep(steps.Problem)">
                <span class="step-number" [innerHTML]="displayedStep(steps.Problem)"></span>
                <span class="d-lg-none">Etape {{getStepNumber(steps.Problem)}} sur {{getStepNumber(steps.Confirmation)}} : </span>
                <span>Le problème</span>
              </div>
              <img src="/assets/images/icon_next.png" alt=""/>
            </ng-container>
            <div class="{{getStepClass(steps.Details)}}" (click)="goToStep(steps.Details)">
              <span class="step-number" [innerHTML]="displayedStep(steps.Details)"></span>
              <span class="d-lg-none">Etape {{getStepNumber(steps.Details)}} sur {{getStepNumber(steps.Confirmation)}} : </span>
              <span>La description</span>
            </div>
            <img src="/assets/images/icon_next.png" alt=""/>
            <div class="{{getStepClass(steps.Company)}}" (click)="goToStep(steps.Company)">
              <span class="step-number" [innerHTML]="displayedStep(steps.Company)"></span>
              <span class="d-lg-none">Etape {{getStepNumber(steps.Company)}} sur {{getStepNumber(steps.Confirmation)}} : </span>
              <span>L'entreprise</span>
            </div>
            <img src="/assets/images/icon_next.png" alt=""/>
            <div class="{{getStepClass(steps.Consumer)}}" (click)="goToStep(steps.Consumer)">
              <span class="step-number" [innerHTML]="displayedStep(steps.Consumer)"></span>
              <span class="d-lg-none">Etape {{getStepNumber(steps.Consumer)}} sur {{getStepNumber(steps.Confirmation)}} : </span>
              <span>Le consommateur</span>
            </div>
            <img src="/assets/images/icon_next.png" alt=""/>
            <div class="{{getStepClass('Confirmation')}}" (click)="goToStep('Confirmation')">
              <span class="step-number" [innerHTML]="displayedStep('Confirmation')"></span>
              <span class="d-lg-none">Etape {{getStepNumber(steps.Confirmation)}} sur {{getStepNumber(steps.Confirmation)}} : </span>
              <span>Confirmation</span>
            </div>
            <div class="d-lg-none pointer link mt-2" (click)="back()" (keydown.enter)="back()" alt="Retour à l'étape précédente" tabindex="0" *ngIf="getStepNumber(step) > 1">
              <i class="material-icons">arrow_back</i>Retour
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
