<app-banner title="Suivi des signalements"></app-banner>

<app-page large pageDefinitionKey="reports_list">
    <app-panel [loading]="loading" *appRole="[roles.Admin, roles.DGCCRF]">
      <app-panel-header>
        <app-report-list-search
          [searchForm]="searchForm"
          [reports]="reports"
          (extracted)="launchExtraction()"
          (searched)="onFiltersUpdate()"
          (cleared)="onClearFilters()">
        </app-report-list-search>
      </app-panel-header>

      <app-report-list-datatable
        *ngIf="reports"
        [reports]="reports"
        [searchForm]="searchForm"
        [pageSize]="searchFormValue.limit"
        [userRole]="(authenticationService.user | async).role"
        (paginationChanged)="onPaginationChange($event)">
      </app-report-list-datatable>
    </app-panel>
</app-page>
